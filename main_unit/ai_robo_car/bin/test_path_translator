#!/usr/bin/env python3
from ai_robo_car.layer.data_objects import *

import os
os.environ["PYTHONPATH"] = "../ai_robo_car/"

from ai_robo_car.layer import ObjectRecognizer, RelativeTranslator, MockPathFinder, PathTranslator, MockEngineCommunicator

layer3 = MockPathFinder(None, TargetPoint)
layer4 = PathTranslator(TargetPoint, EngineInstruction)
layer5 = MockEngineCommunicator(EngineInstruction, None)

layer3.lower = layer4
layer4.lower = layer5
layer4.upper = layer3
layer5.upper = layer4

layer3.call_lower(TargetPoint((0, 1)))
print()

layer3.call_lower(TargetPoint((0.5, 0.5)))
print()

layer3.call_lower(TargetPoint((-0.5, 0.5)))
print()

layer3.call_lower(TargetPoint((0.3, 0.2)))
print()

layer3.call_lower(TargetPoint((0.9, 0.1)))
print()

layer3.call_lower(TargetPoint((0.1, 0.9)))
print()

layer3.call_lower(TargetPoint((1, 0)))
print()

layer3.call_lower(TargetPoint((-1, 0)))
print()

layer3.call_lower(TargetPoint((0, 0)))
